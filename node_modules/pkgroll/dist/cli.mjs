#!/usr/bin/env node
var et=Object.defineProperty;var i=(u,e)=>et(u,"name",{value:e,configurable:!0});import I from"node:fs";import tt from"tty";import{watch as Dt,rollup as nt}from"rollup";import W from"node:fs/promises";import E from"node:path";import{parse as rt}from"yaml";import J from"node:path/posix";import st from"@rollup/plugin-node-resolve";import ot from"@rollup/plugin-commonjs";import it from"@rollup/plugin-json";import at from"@rollup/plugin-alias";import lt from"@rollup/plugin-dynamic-import-vars";import{createFilter as ct}from"@rollup/pluginutils";import{transform as Ju}from"esbuild";import ft,{builtinModules as pt}from"node:module";import eu from"magic-string";import dt from"fs";import{attachScopes as Ft}from"rollup-pluginutils";import{init as Ct,parse as ht}from"cjs-module-lexer";const Et="known-flag",mt="unknown-flag",gt="argument",{stringify:K}=JSON,Bt=/\B([A-Z])/g,yt=i(u=>u.replace(Bt,"-$1").toLowerCase(),"v$2"),{hasOwnProperty:At}=Object.prototype,G=i((u,e)=>At.call(u,e),"w$3"),bt=i(u=>Array.isArray(u),"L$2"),Ku=i(u=>typeof u=="function"?[u,!1]:bt(u)?[u[0],!0]:Ku(u.type),"b$2"),wt=i((u,e)=>u===Boolean?e!=="false":e,"d$3"),vt=i((u,e)=>typeof e=="boolean"?e:u===Number&&e===""?Number.NaN:u(e),"m$2"),$t=/[\s.:=]/,xt=i(u=>{const e=`Flag name ${K(u)}`;if(u.length===0)throw new Error(`${e} cannot be empty`);if(u.length===1)throw new Error(`${e} must be longer than a character`);const D=u.match($t);if(D)throw new Error(`${e} cannot contain ${K(D?.[0])}`)},"B$1"),kt=i(u=>{const e={},D=i((t,n)=>{if(G(e,t))throw new Error(`Duplicate flags named ${K(t)}`);e[t]=n},"r");for(const t in u){if(!G(u,t))continue;xt(t);const n=u[t],r=[[],...Ku(n),n];D(t,r);const s=yt(t);if(t!==s&&D(s,r),"alias"in n&&typeof n.alias=="string"){const{alias:o}=n,a=`Flag alias ${K(o)} for flag ${K(t)}`;if(o.length===0)throw new Error(`${a} cannot be empty`);if(o.length>1)throw new Error(`${a} must be a single character`);D(o,r)}}return e},"K$2"),jt=i((u,e)=>{const D={};for(const t in u){if(!G(u,t))continue;const[n,,r,s]=e[t];if(n.length===0&&"default"in s){let{default:o}=s;typeof o=="function"&&(o=o()),D[t]=o}else D[t]=r?n:n.pop()}return D},"_$3"),tu="--",Ot=/[.:=]/,Pt=/^-{1,2}\w/,St=i(u=>{if(!Pt.test(u))return;const e=!u.startsWith(tu);let D=u.slice(e?1:2),t;const n=D.match(Ot);if(n){const{index:r}=n;t=D.slice(r+1),D=D.slice(0,r)}return[D,t,e]},"N"),Tt=i((u,{onFlag:e,onArgument:D})=>{let t;const n=i((r,s)=>{if(typeof t!="function")return!0;t(r,s),t=void 0},"o");for(let r=0;r<u.length;r+=1){const s=u[r];if(s===tu){n();const a=u.slice(r+1);D?.(a,[r],!0);break}const o=St(s);if(o){if(n(),!e)continue;const[a,l,p]=o;if(p)for(let d=0;d<a.length;d+=1){n();const c=d===a.length-1;t=e(a[d],c?l:void 0,[r,d+1,c])}else t=e(a,l,[r])}else n(s,[r])&&D?.([s],[r])}n()},"$$2"),It=i((u,e)=>{for(const[D,t,n]of e.reverse()){if(t){const r=u[D];let s=r.slice(0,t);if(n||(s+=r.slice(t+1)),s!=="-"){u[D]=s;continue}}u.splice(D,1)}},"E$2"),_t=i((u,e=process.argv.slice(2),{ignore:D}={})=>{const t=[],n=kt(u),r={},s=[];return s[tu]=[],Tt(e,{onFlag(o,a,l){const p=G(n,o);if(!D?.(p?Et:mt,o,a)){if(p){const[d,c]=n[o],h=wt(c,a),C=i((m,b)=>{t.push(l),b&&t.push(b),d.push(vt(c,m||""))},"p");return h===void 0?C:C(h)}G(r,o)||(r[o]=[]),r[o].push(a===void 0?!0:a),t.push(l)}},onArgument(o,a,l){D?.(gt,e[a[0]])||(s.push(...o),l?(s[tu]=o,e.splice(a[0])):t.push(a))}}),It(e,t),{flags:jt(u,n),unknownFlags:r,_:s}},"U$3");var Nt=Object.create,Du=Object.defineProperty,Rt=Object.defineProperties,Mt=Object.getOwnPropertyDescriptor,Lt=Object.getOwnPropertyDescriptors,Wt=Object.getOwnPropertyNames,Gu=Object.getOwnPropertySymbols,Ut=Object.getPrototypeOf,Hu=Object.prototype.hasOwnProperty,Vt=Object.prototype.propertyIsEnumerable,Yu=i((u,e,D)=>e in u?Du(u,e,{enumerable:!0,configurable:!0,writable:!0,value:D}):u[e]=D,"W$2"),nu=i((u,e)=>{for(var D in e||(e={}))Hu.call(e,D)&&Yu(u,D,e[D]);if(Gu)for(var D of Gu(e))Vt.call(e,D)&&Yu(u,D,e[D]);return u},"p$1"),mu=i((u,e)=>Rt(u,Lt(e)),"c"),qt=i(u=>Du(u,"__esModule",{value:!0}),"nD"),zt=i((u,e)=>()=>(u&&(e=u(u=0)),e),"rD"),Jt=i((u,e)=>()=>(e||u((e={exports:{}}).exports,e),e.exports),"iD"),Kt=i((u,e,D,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Wt(e))!Hu.call(u,n)&&n!=="default"&&Du(u,n,{get:i(()=>e[n],"get"),enumerable:!(t=Mt(e,n))||t.enumerable});return u},"oD"),Gt=i((u,e)=>Kt(qt(Du(u!=null?Nt(Ut(u)):{},"default",{value:u,enumerable:!0})),u),"BD"),j=zt(()=>{}),Ht=Jt((u,e)=>{j(),e.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}});j(),j(),j();var Yt=i(u=>{var e,D,t;let n=(e=process.stdout.columns)!=null?e:Number.POSITIVE_INFINITY;return typeof u=="function"&&(u=u(n)),u||(u={}),Array.isArray(u)?{columns:u,stdoutColumns:n}:{columns:(D=u.columns)!=null?D:[],stdoutColumns:(t=u.stdoutColumns)!=null?t:n}},"v$1");j(),j(),j(),j(),j();function Zt({onlyFirst:u=!1}={}){let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,u?void 0:"g")}i(Zt,"w$2");function Zu(u){if(typeof u!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof u}\``);return u.replace(Zt(),"")}i(Zu,"d$2"),j();function Qt(u){return Number.isInteger(u)?u>=4352&&(u<=4447||u===9001||u===9002||11904<=u&&u<=12871&&u!==12351||12880<=u&&u<=19903||19968<=u&&u<=42182||43360<=u&&u<=43388||44032<=u&&u<=55203||63744<=u&&u<=64255||65040<=u&&u<=65049||65072<=u&&u<=65131||65281<=u&&u<=65376||65504<=u&&u<=65510||110592<=u&&u<=110593||127488<=u&&u<=127569||131072<=u&&u<=262141):!1}i(Qt,"y$1");var Xt=Gt(Ht());function N(u){if(typeof u!="string"||u.length===0||(u=Zu(u),u.length===0))return 0;u=u.replace((0,Xt.default)(),"  ");let e=0;for(let D=0;D<u.length;D++){let t=u.codePointAt(D);t<=31||t>=127&&t<=159||t>=768&&t<=879||(t>65535&&D++,e+=Qt(t)?2:1)}return e}i(N,"g");var Qu=i(u=>Math.max(...u.split(`
`).map(N)),"b$1"),uD=i(u=>{let e=[];for(let D of u){let{length:t}=D,n=t-e.length;for(let r=0;r<n;r+=1)e.push(0);for(let r=0;r<t;r+=1){let s=Qu(D[r]);s>e[r]&&(e[r]=s)}}return e},"k$1");j();var Xu=/^\d+%$/,ue={width:"auto",align:"left",contentWidth:0,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,horizontalPadding:0,paddingLeftString:"",paddingRightString:""},eD=i((u,e)=>{var D;let t=[];for(let n=0;n<u.length;n+=1){let r=(D=e[n])!=null?D:"auto";if(typeof r=="number"||r==="auto"||r==="content-width"||typeof r=="string"&&Xu.test(r)){t.push(mu(nu({},ue),{width:r,contentWidth:u[n]}));continue}if(r&&typeof r=="object"){let s=mu(nu(nu({},ue),r),{contentWidth:u[n]});s.horizontalPadding=s.paddingLeft+s.paddingRight,t.push(s);continue}throw new Error(`Invalid column width: ${JSON.stringify(r)}`)}return t},"sD");function tD(u,e){for(let D of u){let{width:t}=D;if(t==="content-width"&&(D.width=D.contentWidth),t==="auto"){let a=Math.min(20,D.contentWidth);D.width=a,D.autoOverflow=D.contentWidth-a}if(typeof t=="string"&&Xu.test(t)){let a=Number.parseFloat(t.slice(0,-1))/100;D.width=Math.floor(e*a)-(D.paddingLeft+D.paddingRight)}let{horizontalPadding:n}=D,r=1,s=r+n;if(s>=e){let a=s-e,l=Math.ceil(D.paddingLeft/n*a),p=a-l;D.paddingLeft-=l,D.paddingRight-=p,D.horizontalPadding=D.paddingLeft+D.paddingRight}D.paddingLeftString=D.paddingLeft?" ".repeat(D.paddingLeft):"",D.paddingRightString=D.paddingRight?" ".repeat(D.paddingRight):"";let o=e-D.horizontalPadding;D.width=Math.max(Math.min(D.width,o),r)}}i(tD,"aD");var ee=i(()=>Object.assign([],{columns:0}),"G$1");function DD(u,e){let D=[ee()],[t]=D;for(let n of u){let r=n.width+n.horizontalPadding;t.columns+r>e&&(t=ee(),D.push(t)),t.push(n),t.columns+=r}for(let n of D){let r=n.reduce((c,h)=>c+h.width+h.horizontalPadding,0),s=e-r;if(s===0)continue;let o=n.filter(c=>"autoOverflow"in c),a=o.filter(c=>c.autoOverflow>0),l=a.reduce((c,h)=>c+h.autoOverflow,0),p=Math.min(l,s);for(let c of a){let h=Math.floor(c.autoOverflow/l*p);c.width+=h,s-=h}let d=Math.floor(s/o.length);for(let c=0;c<o.length;c+=1){let h=o[c];c===o.length-1?h.width+=s:h.width+=d,s-=d}}return D}i(DD,"lD");function nD(u,e,D){let t=eD(D,e);return tD(t,u),DD(t,u)}i(nD,"Z$2"),j(),j(),j();var gu=10,te=i((u=0)=>e=>`\x1B[${e+u}m`,"U$2"),De=i((u=0)=>e=>`\x1B[${38+u};5;${e}m`,"V$2"),ne=i((u=0)=>(e,D,t)=>`\x1B[${38+u};2;${e};${D};${t}m`,"Y$1");function rD(){let u=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.gray=e.color.blackBright,e.bgColor.bgGray=e.bgColor.bgBlackBright,e.color.grey=e.color.blackBright,e.bgColor.bgGrey=e.bgColor.bgBlackBright;for(let[D,t]of Object.entries(e)){for(let[n,r]of Object.entries(t))e[n]={open:`\x1B[${r[0]}m`,close:`\x1B[${r[1]}m`},t[n]=e[n],u.set(r[0],r[1]);Object.defineProperty(e,D,{value:t,enumerable:!1})}return Object.defineProperty(e,"codes",{value:u,enumerable:!1}),e.color.close="\x1B[39m",e.bgColor.close="\x1B[49m",e.color.ansi=te(),e.color.ansi256=De(),e.color.ansi16m=ne(),e.bgColor.ansi=te(gu),e.bgColor.ansi256=De(gu),e.bgColor.ansi16m=ne(gu),Object.defineProperties(e,{rgbToAnsi256:{value:i((D,t,n)=>D===t&&t===n?D<8?16:D>248?231:Math.round((D-8)/247*24)+232:16+36*Math.round(D/255*5)+6*Math.round(t/255*5)+Math.round(n/255*5),"value"),enumerable:!1},hexToRgb:{value:i(D=>{let t=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(D.toString(16));if(!t)return[0,0,0];let{colorString:n}=t.groups;n.length===3&&(n=n.split("").map(s=>s+s).join(""));let r=Number.parseInt(n,16);return[r>>16&255,r>>8&255,r&255]},"value"),enumerable:!1},hexToAnsi256:{value:i(D=>e.rgbToAnsi256(...e.hexToRgb(D)),"value"),enumerable:!1},ansi256ToAnsi:{value:i(D=>{if(D<8)return 30+D;if(D<16)return 90+(D-8);let t,n,r;if(D>=232)t=((D-232)*10+8)/255,n=t,r=t;else{D-=16;let a=D%36;t=Math.floor(D/36)/5,n=Math.floor(a/6)/5,r=a%6/5}let s=Math.max(t,n,r)*2;if(s===0)return 30;let o=30+(Math.round(r)<<2|Math.round(n)<<1|Math.round(t));return s===2&&(o+=60),o},"value"),enumerable:!1},rgbToAnsi:{value:i((D,t,n)=>e.ansi256ToAnsi(e.rgbToAnsi256(D,t,n)),"value"),enumerable:!1},hexToAnsi:{value:i(D=>e.ansi256ToAnsi(e.hexToAnsi256(D)),"value"),enumerable:!1}}),e}i(rD,"AD");var sD=rD(),oD=sD,ru=new Set(["\x1B","\x9B"]),iD=39,Bu="\x07",re="[",aD="]",se="m",yu=`${aD}8;;`,oe=i(u=>`${ru.values().next().value}${re}${u}${se}`,"J$1"),ie=i(u=>`${ru.values().next().value}${yu}${u}${Bu}`,"Q$1"),lD=i(u=>u.split(" ").map(e=>N(e)),"hD"),Au=i((u,e,D)=>{let t=[...e],n=!1,r=!1,s=N(Zu(u[u.length-1]));for(let[o,a]of t.entries()){let l=N(a);if(s+l<=D?u[u.length-1]+=a:(u.push(a),s=0),ru.has(a)&&(n=!0,r=t.slice(o+1).join("").startsWith(yu)),n){r?a===Bu&&(n=!1,r=!1):a===se&&(n=!1);continue}s+=l,s===D&&o<t.length-1&&(u.push(""),s=0)}!s&&u[u.length-1].length>0&&u.length>1&&(u[u.length-2]+=u.pop())},"S"),cD=i(u=>{let e=u.split(" "),D=e.length;for(;D>0&&!(N(e[D-1])>0);)D--;return D===e.length?u:e.slice(0,D).join(" ")+e.slice(D).join("")},"cD"),fD=i((u,e,D={})=>{if(D.trim!==!1&&u.trim()==="")return"";let t="",n,r,s=lD(u),o=[""];for(let[l,p]of u.split(" ").entries()){D.trim!==!1&&(o[o.length-1]=o[o.length-1].trimStart());let d=N(o[o.length-1]);if(l!==0&&(d>=e&&(D.wordWrap===!1||D.trim===!1)&&(o.push(""),d=0),(d>0||D.trim===!1)&&(o[o.length-1]+=" ",d++)),D.hard&&s[l]>e){let c=e-d,h=1+Math.floor((s[l]-c-1)/e);Math.floor((s[l]-1)/e)<h&&o.push(""),Au(o,p,e);continue}if(d+s[l]>e&&d>0&&s[l]>0){if(D.wordWrap===!1&&d<e){Au(o,p,e);continue}o.push("")}if(d+s[l]>e&&D.wordWrap===!1){Au(o,p,e);continue}o[o.length-1]+=p}D.trim!==!1&&(o=o.map(l=>cD(l)));let a=[...o.join(`
`)];for(let[l,p]of a.entries()){if(t+=p,ru.has(p)){let{groups:c}=new RegExp(`(?:\\${re}(?<code>\\d+)m|\\${yu}(?<uri>.*)${Bu})`).exec(a.slice(l).join(""))||{groups:{}};if(c.code!==void 0){let h=Number.parseFloat(c.code);n=h===iD?void 0:h}else c.uri!==void 0&&(r=c.uri.length===0?void 0:c.uri)}let d=oD.codes.get(Number(n));a[l+1]===`
`?(r&&(t+=ie("")),n&&d&&(t+=oe(d))):p===`
`&&(n&&d&&(t+=oe(n)),r&&(t+=ie(r)))}return t},"dD");function pD(u,e,D){return String(u).normalize().replace(/\r\n/g,`
`).split(`
`).map(t=>fD(t,e,D)).join(`
`)}i(pD,"T$1");var ae=i(u=>Array.from({length:u}).fill(""),"X$1");function dD(u,e){let D=[],t=0;for(let n of u){let r=0,s=n.map(a=>{var l;let p=(l=e[t])!=null?l:"";t+=1,a.preprocess&&(p=a.preprocess(p)),Qu(p)>a.width&&(p=pD(p,a.width,{hard:!0}));let d=p.split(`
`);if(a.postprocess){let{postprocess:c}=a;d=d.map((h,C)=>c.call(a,h,C))}return a.paddingTop&&d.unshift(...ae(a.paddingTop)),a.paddingBottom&&d.push(...ae(a.paddingBottom)),d.length>r&&(r=d.length),mu(nu({},a),{lines:d})}),o=[];for(let a=0;a<r;a+=1){let l=s.map(p=>{var d;let c=(d=p.lines[a])!=null?d:"",h=Number.isFinite(p.width)?" ".repeat(p.width-N(c)):"",C=p.paddingLeftString;return p.align==="right"&&(C+=h),C+=c,p.align==="left"&&(C+=h),C+p.paddingRightString}).join("");o.push(l)}D.push(o.join(`
`))}return D.join(`
`)}i(dD,"P$2");function FD(u,e){if(!u||u.length===0)return"";let D=uD(u),t=D.length;if(t===0)return"";let{stdoutColumns:n,columns:r}=Yt(e);if(r.length>t)throw new Error(`${r.length} columns defined, but only ${t} columns found`);let s=nD(n,r,D);return u.map(o=>dD(s,o)).join(`
`)}i(FD,"mD"),j();var CD=["<",">","=",">=","<="];function hD(u){if(!CD.includes(u))throw new TypeError(`Invalid breakpoint operator: ${u}`)}i(hD,"xD");function ED(u){let e=Object.keys(u).map(D=>{let[t,n]=D.split(" ");hD(t);let r=Number.parseInt(n,10);if(Number.isNaN(r))throw new TypeError(`Invalid breakpoint value: ${n}`);let s=u[D];return{operator:t,breakpoint:r,value:s}}).sort((D,t)=>t.breakpoint-D.breakpoint);return D=>{var t;return(t=e.find(({operator:n,breakpoint:r})=>n==="="&&D===r||n===">"&&D>r||n==="<"&&D<r||n===">="&&D>=r||n==="<="&&D<=r))==null?void 0:t.value}}i(ED,"wD");const mD=i(u=>u.replace(/[\W_]([a-z\d])?/gi,(e,D)=>D?D.toUpperCase():""),"P$1"),gD=i(u=>u.replace(/\B([A-Z])/g,"-$1").toLowerCase(),"q$1"),BD={"> 80":[{width:"content-width",paddingLeft:2,paddingRight:8},{width:"auto"}],"> 40":[{width:"auto",paddingLeft:2,paddingRight:8,preprocess:i(u=>u.trim(),"preprocess")},{width:"100%",paddingLeft:2,paddingBottom:1}],"> 0":{stdoutColumns:1e3,columns:[{width:"content-width",paddingLeft:2,paddingRight:8},{width:"content-width"}]}};function yD(u){let e=!1;return{type:"table",data:{tableData:Object.keys(u).sort((D,t)=>D.localeCompare(t)).map(D=>{const t=u[D],n="alias"in t;return n&&(e=!0),{name:D,flag:t,flagFormatted:`--${gD(D)}`,aliasesEnabled:e,aliasFormatted:n?`-${t.alias}`:void 0}}).map(D=>(D.aliasesEnabled=e,[{type:"flagName",data:D},{type:"flagDescription",data:D}])),tableBreakpoints:BD}}}i(yD,"D");const le=i(u=>!u||(u.version??(u.help?u.help.version:void 0)),"A$1"),ce=i(u=>{const e="parent"in u&&u.parent?.name;return(e?`${e} `:"")+u.name},"C$1");function AD(u){const e=[];u.name&&e.push(ce(u));const D=le(u)??("parent"in u&&le(u.parent));if(D&&e.push(`v${D}`),e.length!==0)return{id:"name",type:"text",data:`${e.join(" ")}
`}}i(AD,"R$2");function bD(u){const{help:e}=u;if(!(!e||!e.description))return{id:"description",type:"text",data:`${e.description}
`}}i(bD,"L");function wD(u){const e=u.help||{};if("usage"in e)return e.usage?{id:"usage",type:"section",data:{title:"Usage:",body:Array.isArray(e.usage)?e.usage.join(`
`):e.usage}}:void 0;if(u.name){const D=[],t=[ce(u)];if(u.flags&&Object.keys(u.flags).length>0&&t.push("[flags...]"),u.parameters&&u.parameters.length>0){const{parameters:n}=u,r=n.indexOf("--"),s=r>-1&&n.slice(r+1).some(o=>o.startsWith("<"));t.push(n.map(o=>o!=="--"?o:s?"--":"[--]").join(" "))}if(t.length>1&&D.push(t.join(" ")),"commands"in u&&u.commands?.length&&D.push(`${u.name} <command>`),D.length>0)return{id:"usage",type:"section",data:{title:"Usage:",body:D.join(`
`)}}}}i(wD,"T");function vD(u){return!("commands"in u)||!u.commands?.length?void 0:{id:"commands",type:"section",data:{title:"Commands:",body:{type:"table",data:{tableData:u.commands.map(e=>[e.options.name,e.options.help?e.options.help.description:""]),tableOptions:[{width:"content-width",paddingLeft:2,paddingRight:8}]}},indentBody:0}}}i(vD,"_$1");function $D(u){if(!(!u.flags||Object.keys(u.flags).length===0))return{id:"flags",type:"section",data:{title:"Flags:",body:yD(u.flags),indentBody:0}}}i($D,"k");function xD(u){const{help:e}=u;if(!e||!e.examples||e.examples.length===0)return;let{examples:D}=e;if(Array.isArray(D)&&(D=D.join(`
`)),D)return{id:"examples",type:"section",data:{title:"Examples:",body:D}}}i(xD,"F");function kD(u){if(!("alias"in u)||!u.alias)return;const{alias:e}=u;return{id:"aliases",type:"section",data:{title:"Aliases:",body:Array.isArray(e)?e.join(", "):e}}}i(kD,"H$1");const jD=i(u=>[AD,bD,wD,vD,$D,xD,kD].map(e=>e(u)).filter(Boolean),"U$1"),OD=tt.WriteStream.prototype.hasColors();class PD{static{i(this,"J")}text(e){return e}bold(e){return OD?`\x1B[1m${e}\x1B[22m`:e.toLocaleUpperCase()}indentText({text:e,spaces:D}){return e.replace(/^/gm," ".repeat(D))}heading(e){return this.bold(e)}section({title:e,body:D,indentBody:t=2}){return`${(e?`${this.heading(e)}
`:"")+(D?this.indentText({text:this.render(D),spaces:t}):"")}
`}table({tableData:e,tableOptions:D,tableBreakpoints:t}){return FD(e.map(n=>n.map(r=>this.render(r))),t?ED(t):D)}flagParameter(e){return e===Boolean?"":e===String?"<string>":e===Number?"<number>":Array.isArray(e)?this.flagParameter(e[0]):"<value>"}flagOperator(e){return" "}flagName(e){const{flag:D,flagFormatted:t,aliasesEnabled:n,aliasFormatted:r}=e;let s="";if(r?s+=`${r}, `:n&&(s+="    "),s+=t,"placeholder"in D&&typeof D.placeholder=="string")s+=`${this.flagOperator(e)}${D.placeholder}`;else{const o=this.flagParameter("type"in D?D.type:D);o&&(s+=`${this.flagOperator(e)}${o}`)}return s}flagDefault(e){return JSON.stringify(e)}flagDescription({flag:e}){let D="description"in e?e.description??"":"";if("default"in e){let{default:t}=e;typeof t=="function"&&(t=t()),t&&(D+=` (default: ${this.flagDefault(t)})`)}return D}render(e){if(typeof e=="string")return e;if(Array.isArray(e))return e.map(D=>this.render(D)).join(`
`);if("type"in e&&this[e.type]){const D=this[e.type];if(typeof D=="function")return D.call(this,e.data)}throw new Error(`Invalid node type: ${JSON.stringify(e)}`)}}const fe=i(u=>u.length>0&&!u.includes(" "),"y"),{stringify:T}=JSON,SD=/[|\\{}()[\]^$+*?.]/;function bu(u){const e=[];let D,t;for(const n of u){if(t)throw new Error(`Invalid parameter: Spread parameter ${T(t)} must be last`);const r=n[0],s=n[n.length-1];let o;if(r==="<"&&s===">"&&(o=!0,D))throw new Error(`Invalid parameter: Required parameter ${T(n)} cannot come after optional parameter ${T(D)}`);if(r==="["&&s==="]"&&(o=!1,D=n),o===void 0)throw new Error(`Invalid parameter: ${T(n)}. Must be wrapped in <> (required parameter) or [] (optional parameter)`);let a=n.slice(1,-1);const l=a.slice(-3)==="...";l&&(t=n,a=a.slice(0,-3));const p=a.match(SD);if(p)throw new Error(`Invalid parameter: ${T(n)}. Invalid character found ${T(p[0])}`);e.push({name:a,required:o,spread:l})}return e}i(bu,"w$1");function wu(u,e,D,t){for(let n=0;n<e.length;n+=1){const{name:r,required:s,spread:o}=e[n],a=mD(r);if(a in u)throw new Error(`Invalid parameter: ${T(r)} is used more than once.`);const l=o?D.slice(n):D[n];if(o&&(n=e.length),s&&(!l||o&&l.length===0))return console.error(`Error: Missing required parameter ${T(r)}
`),t(),process.exit(1);u[a]=l}}i(wu,"b");function TD(u){return u===void 0||u!==!1}i(TD,"W$1");function pe(u,e,D,t){const n={...e.flags},r=e.version;r&&(n.version={type:Boolean,description:"Show version"});const{help:s}=e,o=TD(s);o&&!("help"in n)&&(n.help={type:Boolean,alias:"h",description:"Show help"});const a=_t(n,t,{ignore:e.ignoreArgv}),l=i(()=>{console.log(e.version)},"f");if(r&&a.flags.version===!0)return l(),process.exit(0);const p=new PD,d=o&&s?.render?s.render:C=>p.render(C),c=i(C=>{const m=jD({...e,...C?{help:C}:{},flags:n});console.log(d(m,p))},"u");if(o&&a.flags.help===!0)return c(),process.exit(0);if(e.parameters){let{parameters:C}=e,m=a._;const b=C.indexOf("--"),k=C.slice(b+1),A=Object.create(null);if(b>-1&&k.length>0){C=C.slice(0,b);const f=a._["--"];m=m.slice(0,-f.length||void 0),wu(A,bu(C),m,c),wu(A,bu(k),f,c)}else wu(A,bu(C),m,c);Object.assign(a._,A)}const h={...a,showVersion:l,showHelp:c};return typeof D=="function"&&D(h),{command:u,...h}}i(pe,"x$1");function ID(u,e){const D=new Map;for(const t of e){const n=[t.options.name],{alias:r}=t.options;r&&(Array.isArray(r)?n.push(...r):n.push(r));for(const s of n){if(D.has(s))throw new Error(`Duplicate command name found: ${T(s)}`);D.set(s,t)}}return D.get(u)}i(ID,"z$1");function _D(u,e,D=process.argv.slice(2)){if(!u)throw new Error("Options is required");if("name"in u&&(!u.name||!fe(u.name)))throw new Error(`Invalid script name: ${T(u.name)}`);const t=D[0];if(u.commands&&t&&fe(t)){const n=ID(t,u.commands);if(n)return pe(n.options.name,{...n.options,parent:u},n.callback,D.slice(1))}return pe(void 0,u,e,D)}i(_D,"Z$1");var ND="2.20.1";const su=i(u=>I.promises.access(u).then(()=>!0,()=>!1),"fsExists");let R=!0;const U=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{};let H=0;if(U.process&&U.process.env&&U.process.stdout){const{FORCE_COLOR:u,NODE_DISABLE_COLORS:e,NO_COLOR:D,TERM:t,COLORTERM:n}=U.process.env;e||D||u==="0"?R=!1:u==="1"||u==="2"||u==="3"?R=!0:t==="dumb"?R=!1:"CI"in U.process.env&&["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(r=>r in U.process.env)?R=!0:R=process.stdout.isTTY,R&&(process.platform==="win32"||n&&(n==="truecolor"||n==="24bit")?H=3:t&&(t.endsWith("-256color")||t.endsWith("256"))?H=2:H=1)}let de={enabled:R,supportLevel:H};function RD(u,e,D=1){const t=`\x1B[${u}m`,n=`\x1B[${e}m`,r=new RegExp(`\\x1b\\[${e}m`,"g");return s=>de.enabled&&de.supportLevel>=D?t+(""+s).replace(r,t)+n:""+s}i(RD,"kolorist");const MD=RD(2,22),Fe=i(u=>u.replaceAll("\\","/"),"slash"),x=i((u,e)=>(!E.isAbsolute(u)&&!u.startsWith(".")&&!u.startsWith("/")&&(u=`./${u}`),e&&!u.endsWith("/")&&(u+="/"),u),"normalizePath"),LD=i(()=>new Date().toLocaleTimeString(),"currentTime"),ou=i((...u)=>console.log(MD(LD()),...u),"log"),WD=process.cwd(),iu=i(u=>x(E.relative(WD,u)),"formatPath"),UD=i(async u=>{const e=await W.readFile(u,"utf8");try{return rt(e)}catch(D){throw new Error(`Failed to parse ${iu(u)}: ${D.message}`)}},"readPackageYaml"),VD=i(async u=>{const e=await W.readFile(u,"utf8");try{return JSON.parse(e)}catch(D){throw new Error(`Failed to parse ${iu(u)}: ${D.message}`)}},"readPackageJson"),qD=i(async u=>{const e=E.join(u,"package.yaml");if(await su(e))return{packageJson:await UD(e),packageJsonPath:e};const D=E.join(u,"package.json");if(await su(D))return{packageJson:await VD(D),packageJsonPath:D};throw new Error(`package.json not found at: ${D} (also checked for package.yaml)`)},"readPackage"),zD=i(u=>{let e=!1;if(u.includes("=")){const[D,t]=u.split("=");u=t,e=D==="bin"||D==="binary"}return{type:"legacy",source:"cli",outputPath:x(u),isExecutable:e}},"parseCliInputFlag"),JD=i(({imports:u},e)=>{const D={};if(u)for(const t in u){if(t.startsWith("#"))continue;const n=u[t];typeof n=="string"&&(D[t]=E.join(e,n))}return D},"getAliases"),KD=i(u=>{const{publishConfig:e}=u;if(!e)return;const D=["bin","main","exports","types","module"];for(const t of D)e[t]&&(u[t]=e[t])},"applyPublishConfig"),M=i(u=>{if(u.endsWith(".mjs"))return"module";if(u.endsWith(".cjs"))return"commonjs";if(u.endsWith(".d.ts")||u.endsWith(".d.cts")||u.endsWith(".d.mts"))return"types"},"getFileType"),GD=i(u=>u[0]===".","isPath"),Ce=i(u=>u.slice(1).filter(e=>typeof e=="string"&&e[0]!=="."),"getConditions"),au=i((u,e,D,t=[D])=>{if(!u)return[];if(typeof u=="string")return[{source:{type:"package.json",path:[...t]},type:D,conditions:[],format:M(u)||e,outputPath:x(u)}];if(Array.isArray(u))return u.flatMap((r,s)=>{const o=[...t,s];return typeof r=="string"?GD(r)?{source:{type:"package.json",path:[...o]},type:D,conditions:Ce(o),format:M(r)||e,outputPath:x(r)}:[]:au(r,e,D,o)});const n=D==="imports"&&t.length===1;return Object.entries(u).flatMap(([r,s])=>{if(n&&r[0]!=="#")return[];const o=[...t,r];if(typeof s=="string"){const a=Ce(o),l={type:D,source:{type:"package.json",path:o},outputPath:x(s),conditions:a};return a.includes("types")?{...l,format:"types"}:{...l,format:M(s)||e}}return au(s,e,D,o)})},"parsePackageMap"),HD=i((u,e)=>{const D=[],t=u.main;t&&D.push({source:{type:"package.json",path:["main"]},type:"legacy",format:M(t)??e,outputPath:x(t)});const n=u.module;n&&D.push({source:{type:"package.json",path:["module"]},type:"legacy",format:"module",outputPath:x(n)});const r=u.types;r&&D.push({source:{type:"package.json",path:["types"]},type:"legacy",format:"types",outputPath:x(r)});const{bin:s}=u;if(s)if(typeof s=="string")D.push({source:{type:"package.json",path:["bin"]},type:"binary",format:M(s)??e,outputPath:x(s)});else for(const[o,a]of Object.entries(s))D.push({source:{type:"package.json",path:["bin",o]},type:"binary",format:M(a)??e,outputPath:x(a)});if(u.exports){const o=au(u.exports,e,"exports");D.push(...o)}if(u.imports){const o=au(u.imports,e,"imports");D.push(...o)}return D},"getPkgEntryPoints"),YD=i(async(u,e)=>{for(const D of e){const t=u+D;if(await su(t))return{srcExtension:D,sourcePath:t}}},"tryExtensions"),vu={".d.ts":[".d.ts",".d.mts",".d.cts",".ts",".tsx",".mts",".cts"],".d.mts":[".d.mts",".d.ts",".d.cts",".ts",".tsx",".mts",".cts"],".d.cts":[".d.cts",".d.ts",".d.mts",".ts",".tsx",".mts",".cts"],".js":[".js",".ts",".tsx",".mts",".cts"],".mjs":[".mjs",".js",".cjs",".mts",".cts",".ts",".tsx"],".cjs":[".cjs",".js",".mjs",".mts",".cts",".ts",".tsx"]},he=Object.keys(vu),ZD=i(async(u,e)=>{const{outputPath:D}=u,t=he.find(s=>D.endsWith(s));if(!t)return{error:`Unsupported extension (must be ${he.join("|")})`,exportEntry:u};const n=D.slice(e.dist.length,-t.length),r=await YD(J.join(e.srcResolved,n),vu[t]);return r?{exportEntry:u,distExtension:t,srcdist:e,...r}:{error:`Source file not found: ${J.join(e.src,n)}(${vu[t].join("|")})`,exportEntry:u}},"getSourcePath"),QD=i(async u=>{try{return await W.readdir(u,{withFileTypes:!0})}catch(e){const{code:D}=e;if(D==="ENOENT")return[];throw e}},"safeReaddir"),Ee=i(async(u,e)=>{const D=await QD(u);return(await Promise.all(D.map(async n=>{const r=J.join(u,n.name);return n.isDirectory()?Ee(r,e):n.isFile()?J.relative(e,r):[]}))).flat()},"getDirectoryFilesRecursive"),me=new Map,ge=i(async u=>{let e=me.get(u);return e||(e=Ee(u,u),me.set(u,e)),e},"getDirectoryFiles"),lu=/\.[^./]+$/,Be=i((u,e)=>{const D=e.at(-1);if(!u.endsWith(D))return;if(e.some(n=>n.includes("/"))){const n=u.split("/").filter(Boolean);for(let r=1;r<=n.length;r+=1){const s=n.slice(0,r).join("/"),o=s+e.join(s);if(o===u)return o}}else for(let n=1;n<=u.length;n+=1){const r=u.slice(0,n),s=r+e.join(r);if(s===u)return s}},"extractWildcardMatch"),XD=i(async(u,e)=>{const D=Array.from(e).sort((n,r)=>r.dist.length-n.dist.length);return(await Promise.all(u.map(async n=>{if(typeof n.source=="string"||n.source.path[0]!=="exports"&&n.source.path[0]!=="imports"||!n.outputPath.includes("*"))return[n];const r=n.source.path[1];if(!r.includes("*"))return[n];const s=n.outputPath.match(/\.d\.[cm]?ts$/)||n.outputPath.match(lu);if(!s)return[{exportEntry:n,error:`Wildcard pattern must include a file extension (e.g., ".mjs", ".cjs"). Pattern: ${r}`}];const[o]=s,a=n.outputPath.slice(0,-o.length),[l,...p]=a.split("*"),d=l.lastIndexOf("/"),c=d===-1?l:l.slice(0,d+1),h=d>=0?l.slice(d+1):"",C=i(A=>{const f=A.replace(lu,""),B=f.split("/").at(-1)||"";if(h&&!B.startsWith(h))return!1;if(p.length===1){const w=p[0];return!(w&&!(w.includes("/")?f:B).endsWith(w))}const g=h?B.slice(h.length):f;return!!Be(g,p)},"matchesPattern");if(c==="./")return(await Promise.all(D.map(async f=>{const B=f.srcResolved;return(await ge(B)).flatMap(w=>{if(!C(w))return[];const v=w.replace(lu,"");return[{...n,outputPath:f.dist+v+o}]})}))).flat();const m=D.find(({dist:A})=>c===A||c.startsWith(A));if(!m)return[];const b=E.posix.join(m.srcResolved,c.slice(m.dist.length));return(await ge(b)).flatMap(A=>{if(!C(A))return[];const f=A.replace(lu,"");if(p.length>1){const B=Be(f,p);return[{...n,outputPath:c+B+o}]}return[{...n,outputPath:c+f+o}]})}))).flat()},"expandBuildOutputWildcards"),un=i(async(u,e,D)=>{KD(e);const t=e.type??"commonjs",n=await XD(HD(e,t),u);D.length>0&&n.push(...D.map(s=>({...s,format:M(s.outputPath)??t})));const r=new Map;return await Promise.all(n.map(async s=>{if("error"in s)return s;const o=u.find(({dist:l})=>s.outputPath.startsWith(l));if(!o)return{exportEntry:s,error:"Ignoring file outside of dist directories"};const a=r.get(s.outputPath);if(a){if(a.format!==s.format)throw new Error(`Conflicting export types "${a.format}" & "${s.format}" found for ${s.outputPath}`)}else r.set(s.outputPath,s);return await ZD(s,o)}))},"getBuildEntryPoints"),en=["peerDependencies","dependencies","optionalDependencies"],$u="@types/",ye=i((u,e,D=!1)=>{const t=[],{devDependencies:n}=u;for(const r of en){const s=u[r];if(!s)continue;const o=Object.keys(s);for(const a of o)if(!(a in e))if(a.startsWith($u)){if(D){let l=a.slice($u.length);l.includes("__")&&(l=`@${l.replace("__","/")}`),t.push(l)}}else{if(n&&D){const l=$u+a.replace("@","").replace("/","__");n[l]&&!(l in s)&&console.warn(`Recommendation: "${l}" is externalized because "${a}" is in "${r}". Place "${l}" in "${r}" as well so users don't have missing types.`)}t.push(a)}}return t.flatMap(r=>[r,new RegExp(`^${r}/`)])},"getExternalDependencies"),Y=Symbol("entry"),tn=i(u=>{const e=ct(/\.([cm]?[jt]s|[jt]sx)$/);return{name:"esbuild-transform",transform:i(async(D,t)=>{if(!e(t))return null;const n=await Ju(D,{...u,supported:{"import-meta":!0},loader:"default",sourcefile:t.replace(/\.[cm]ts/,".ts")});return{code:n.code,map:n.map||null}},"transform")}},"esbuildTransform"),Dn=i(u=>{if(u==="es")return"esm";if(u==="cjs"||u==="iife")return u},"getEsbuildFormat"),nn=i(u=>({name:"esbuild-minify",renderChunk:i(async(e,D,t)=>{const n=await Ju(e,{...u,format:Dn(t.format),minify:!0,keepNames:!0});return{code:n.code,map:n.map||null}},"renderChunk")}),"esbuildMinify"),xu=i((u,e)=>u[0]-e[0]||u[1]-e[1]||u[2]-e[2],"compareSemver"),Ae=i(({target:u})=>{const e=u.some(D=>{if(D=D.trim(),!D.startsWith("node"))return;const t=D.slice(4).split(".").map(Number),n=[t[0],t[1]??0,t[2]??0];return!(xu(n,[12,20,0])>=0&&xu(n,[13,0,0])<0||xu(n,[14,13,1])>=0)});return{name:"node-builtins",resolveId:i(D=>{const t=D.startsWith("node:");if(e&&t&&(D=D.slice(5)),pt.includes(D)||t)return{id:D,external:!0}},"resolveId")}},"nodeBuiltins"),rn=i(u=>{const e=u.filter(t=>t.exportEntry.type==="binary");if(e.length===0)return{name:"patch-binary"};let D;return{name:"patch-binary",options:i(()=>{D=new Set(e.flatMap(t=>t.inputNames))},"options"),renderChunk:i((t,n,r)=>{if(!n.isEntry||!n.facadeModuleId||!D.has(n.name))return;const s=new eu(t);return s.prepend(`#!/usr/bin/env node
`),{code:s.toString(),map:r.sourcemap?s.generateMap({hires:!0}):void 0}},"renderChunk"),writeBundle:i(async(t,n)=>{const r=new Set(Object.keys(n).map(s=>x(J.join(t.dir,s))));await Promise.all(e.map(async({exportEntry:s})=>{const{outputPath:o}=s;r.has(o)&&await I.promises.chmod(o,493)}))},"writeBundle")}},"patchBinary"),be=i(()=>{const u=/\.(?:[mc]?js|jsx)$/;return{name:"resolve-js-to-ts",resolveId(e,D,t){return D&&u.test(e)?this.resolve(e.replace(/js(x?)$/,"ts$1"),D,t):null}}},"resolveJsToTs"),we=i(u=>u!==null&&typeof u=="object","A"),V=i((u,e)=>Object.assign(new Error(`[${u}]: ${e}`),{code:u}),"a"),ve="ERR_INVALID_PACKAGE_CONFIG",ku="ERR_INVALID_PACKAGE_TARGET",sn="ERR_PACKAGE_PATH_NOT_EXPORTED",on=/^\d+$/,an=/^(\.{1,2}|node_modules)$/i,ln=/\/|\\/;var $e=(u=>(u.Export="exports",u.Import="imports",u))($e||{});const ju=i((u,e,D,t,n)=>{if(e==null)return[];if(typeof e=="string"){const[r,...s]=e.split(ln);if(r===".."||s.some(o=>an.test(o)))throw V(ku,`Invalid "${u}" target "${e}" defined in the package config`);return[n?e.replace(/\*/g,n):e]}if(Array.isArray(e))return e.flatMap(r=>ju(u,r,D,t,n));if(we(e)){for(const r of Object.keys(e)){if(on.test(r))throw V(ve,"Cannot contain numeric property keys");if(r==="default"||t.includes(r))return ju(u,e[r],D,t,n)}return[]}throw V(ku,`Invalid "${u}" target "${e}"`)},"f"),Z="*",cn=i((u,e)=>{const D=u.indexOf(Z),t=e.indexOf(Z);return D===t?e.length>u.length:t>D},"m");function fn(u,e){if(!e.includes(Z)&&u.hasOwnProperty(e))return[e];let D,t;for(const n of Object.keys(u))if(n.includes(Z)){const[r,s,o]=n.split(Z);if(o===void 0&&e.startsWith(r)&&e.endsWith(s)){const a=e.slice(r.length,-s.length||void 0);a&&(!D||cn(D,n))&&(D=n,t=a)}}return[D,t]}i(fn,"d");const pn=i(u=>Object.keys(u).reduce((e,D)=>{const t=D===""||D[0]!==".";if(e===void 0||e===t)return t;throw V(ve,'"exports" cannot contain some keys starting with "." and some not')},void 0),"p"),dn=/^\w+:/,Fn=i((u,e,D)=>{if(!u)throw new Error('"exports" is required');e=e===""?".":`./${e}`,(typeof u=="string"||Array.isArray(u)||we(u)&&pn(u))&&(u={".":u});const[t,n]=fn(u,e),r=ju($e.Export,u[t],e,D,n);if(r.length===0)throw V(sn,e==="."?'No "exports" main defined':`Package subpath '${e}' is not defined by "exports"`);for(const s of r)if(!s.startsWith("./")&&!dn.test(s))throw V(ku,`Invalid "exports" target "${s}" defined in the package config`);return r},"v");var Cn=Object.defineProperty,F=i((u,e)=>Cn(u,"name",{value:e,configurable:!0}),"o");function O(u){return u.startsWith("\\\\?\\")?u:u.replace(/\\/g,"/")}i(O,"E"),F(O,"slash");const Ou=F(u=>{const e=I[u];return(D,...t)=>{const n=`${u}:${t.join(":")}`;let r=D?.get(n);return r===void 0&&(r=Reflect.apply(e,I,t),D?.set(n,r)),r}},"cacheFs"),P=Ou("existsSync"),hn=Ou("readFileSync"),cu=Ou("statSync"),xe=F((u,e,D)=>{for(;;){const t=E.posix.join(u,e);if(P(D,t))return t;const n=E.dirname(u);if(n===u)return;u=n}},"findUp"),Pu=/^\.{1,2}(\/.*)?$/,Su=F(u=>{const e=O(u);return Pu.test(e)?e:`./${e}`},"normalizeRelativePath");function ke(u,e=!1){const D=u.length;let t=0,n="",r=0,s=16,o=0,a=0,l=0,p=0,d=0;function c(f,B){let g=0,w=0;for(;g<f;){let v=u.charCodeAt(t);if(v>=48&&v<=57)w=w*16+v-48;else if(v>=65&&v<=70)w=w*16+v-65+10;else if(v>=97&&v<=102)w=w*16+v-97+10;else break;t++,g++}return g<f&&(w=-1),w}i(c,"_"),F(c,"scanHexDigits");function h(f){t=f,n="",r=0,s=16,d=0}i(h,"d"),F(h,"setPosition");function C(){let f=t;if(u.charCodeAt(t)===48)t++;else for(t++;t<u.length&&L(u.charCodeAt(t));)t++;if(t<u.length&&u.charCodeAt(t)===46)if(t++,t<u.length&&L(u.charCodeAt(t)))for(t++;t<u.length&&L(u.charCodeAt(t));)t++;else return d=3,u.substring(f,t);let B=t;if(t<u.length&&(u.charCodeAt(t)===69||u.charCodeAt(t)===101))if(t++,(t<u.length&&u.charCodeAt(t)===43||u.charCodeAt(t)===45)&&t++,t<u.length&&L(u.charCodeAt(t))){for(t++;t<u.length&&L(u.charCodeAt(t));)t++;B=t}else d=3;return u.substring(f,B)}i(C,"A"),F(C,"scanNumber");function m(){let f="",B=t;for(;;){if(t>=D){f+=u.substring(B,t),d=2;break}const g=u.charCodeAt(t);if(g===34){f+=u.substring(B,t),t++;break}if(g===92){if(f+=u.substring(B,t),t++,t>=D){d=2;break}switch(u.charCodeAt(t++)){case 34:f+='"';break;case 92:f+="\\";break;case 47:f+="/";break;case 98:f+="\b";break;case 102:f+="\f";break;case 110:f+=`
`;break;case 114:f+="\r";break;case 116:f+="	";break;case 117:const w=c(4);w>=0?f+=String.fromCharCode(w):d=4;break;default:d=5}B=t;continue}if(g>=0&&g<=31)if(q(g)){f+=u.substring(B,t),d=2;break}else d=6;t++}return f}i(m,"w"),F(m,"scanString");function b(){if(n="",d=0,r=t,a=o,p=l,t>=D)return r=D,s=17;let f=u.charCodeAt(t);if(fu(f)){do t++,n+=String.fromCharCode(f),f=u.charCodeAt(t);while(fu(f));return s=15}if(q(f))return t++,n+=String.fromCharCode(f),f===13&&u.charCodeAt(t)===10&&(t++,n+=`
`),o++,l=t,s=14;switch(f){case 123:return t++,s=1;case 125:return t++,s=2;case 91:return t++,s=3;case 93:return t++,s=4;case 58:return t++,s=6;case 44:return t++,s=5;case 34:return t++,n=m(),s=10;case 47:const B=t-1;if(u.charCodeAt(t+1)===47){for(t+=2;t<D&&!q(u.charCodeAt(t));)t++;return n=u.substring(B,t),s=12}if(u.charCodeAt(t+1)===42){t+=2;const g=D-1;let w=!1;for(;t<g;){const v=u.charCodeAt(t);if(v===42&&u.charCodeAt(t+1)===47){t+=2,w=!0;break}t++,q(v)&&(v===13&&u.charCodeAt(t)===10&&t++,o++,l=t)}return w||(t++,d=1),n=u.substring(B,t),s=13}return n+=String.fromCharCode(f),t++,s=16;case 45:if(n+=String.fromCharCode(f),t++,t===D||!L(u.charCodeAt(t)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return n+=C(),s=11;default:for(;t<D&&k(f);)t++,f=u.charCodeAt(t);if(r!==t){switch(n=u.substring(r,t),n){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return n+=String.fromCharCode(f),t++,s=16}}i(b,"y"),F(b,"scanNext");function k(f){if(fu(f)||q(f))return!1;switch(f){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}i(k,"I"),F(k,"isUnknownContentCharacter");function A(){let f;do f=b();while(f>=12&&f<=15);return f}return i(A,"L"),F(A,"scanNextNonTrivia"),{setPosition:h,getPosition:F(()=>t,"getPosition"),scan:e?A:b,getToken:F(()=>s,"getToken"),getTokenValue:F(()=>n,"getTokenValue"),getTokenOffset:F(()=>r,"getTokenOffset"),getTokenLength:F(()=>t-r,"getTokenLength"),getTokenStartLine:F(()=>a,"getTokenStartLine"),getTokenStartCharacter:F(()=>r-p,"getTokenStartCharacter"),getTokenError:F(()=>d,"getTokenError")}}i(ke,"je"),F(ke,"createScanner");function fu(u){return u===32||u===9}i(fu,"Q"),F(fu,"isWhiteSpace");function q(u){return u===10||u===13}i(q,"x"),F(q,"isLineBreak");function L(u){return u>=48&&u<=57}i(L,"U"),F(L,"isDigit");var je;(function(u){u[u.lineFeed=10]="lineFeed",u[u.carriageReturn=13]="carriageReturn",u[u.space=32]="space",u[u._0=48]="_0",u[u._1=49]="_1",u[u._2=50]="_2",u[u._3=51]="_3",u[u._4=52]="_4",u[u._5=53]="_5",u[u._6=54]="_6",u[u._7=55]="_7",u[u._8=56]="_8",u[u._9=57]="_9",u[u.a=97]="a",u[u.b=98]="b",u[u.c=99]="c",u[u.d=100]="d",u[u.e=101]="e",u[u.f=102]="f",u[u.g=103]="g",u[u.h=104]="h",u[u.i=105]="i",u[u.j=106]="j",u[u.k=107]="k",u[u.l=108]="l",u[u.m=109]="m",u[u.n=110]="n",u[u.o=111]="o",u[u.p=112]="p",u[u.q=113]="q",u[u.r=114]="r",u[u.s=115]="s",u[u.t=116]="t",u[u.u=117]="u",u[u.v=118]="v",u[u.w=119]="w",u[u.x=120]="x",u[u.y=121]="y",u[u.z=122]="z",u[u.A=65]="A",u[u.B=66]="B",u[u.C=67]="C",u[u.D=68]="D",u[u.E=69]="E",u[u.F=70]="F",u[u.G=71]="G",u[u.H=72]="H",u[u.I=73]="I",u[u.J=74]="J",u[u.K=75]="K",u[u.L=76]="L",u[u.M=77]="M",u[u.N=78]="N",u[u.O=79]="O",u[u.P=80]="P",u[u.Q=81]="Q",u[u.R=82]="R",u[u.S=83]="S",u[u.T=84]="T",u[u.U=85]="U",u[u.V=86]="V",u[u.W=87]="W",u[u.X=88]="X",u[u.Y=89]="Y",u[u.Z=90]="Z",u[u.asterisk=42]="asterisk",u[u.backslash=92]="backslash",u[u.closeBrace=125]="closeBrace",u[u.closeBracket=93]="closeBracket",u[u.colon=58]="colon",u[u.comma=44]="comma",u[u.dot=46]="dot",u[u.doubleQuote=34]="doubleQuote",u[u.minus=45]="minus",u[u.openBrace=123]="openBrace",u[u.openBracket=91]="openBracket",u[u.plus=43]="plus",u[u.slash=47]="slash",u[u.formFeed=12]="formFeed",u[u.tab=9]="tab"})(je||(je={})),new Array(20).fill(0).map((u,e)=>" ".repeat(e));const z=200;new Array(z).fill(0).map((u,e)=>`
`+" ".repeat(e)),new Array(z).fill(0).map((u,e)=>"\r"+" ".repeat(e)),new Array(z).fill(0).map((u,e)=>`\r
`+" ".repeat(e)),new Array(z).fill(0).map((u,e)=>`
`+"	".repeat(e)),new Array(z).fill(0).map((u,e)=>"\r"+"	".repeat(e)),new Array(z).fill(0).map((u,e)=>`\r
`+"	".repeat(e));var pu;(function(u){u.DEFAULT={allowTrailingComma:!1}})(pu||(pu={}));function Oe(u,e=[],D=pu.DEFAULT){let t=null,n=[];const r=[];function s(o){Array.isArray(n)?n.push(o):t!==null&&(n[t]=o)}return i(s,"u"),F(s,"onValue"),Pe(u,{onObjectBegin:F(()=>{const o={};s(o),r.push(n),n=o,t=null},"onObjectBegin"),onObjectProperty:F(o=>{t=o},"onObjectProperty"),onObjectEnd:F(()=>{n=r.pop()},"onObjectEnd"),onArrayBegin:F(()=>{const o=[];s(o),r.push(n),n=o,t=null},"onArrayBegin"),onArrayEnd:F(()=>{n=r.pop()},"onArrayEnd"),onLiteralValue:s,onError:F((o,a,l)=>{e.push({error:o,offset:a,length:l})},"onError")},D),n[0]}i(Oe,"ye"),F(Oe,"parse$1");function Pe(u,e,D=pu.DEFAULT){const t=ke(u,!1),n=[];function r(y){return y?()=>y(t.getTokenOffset(),t.getTokenLength(),t.getTokenStartLine(),t.getTokenStartCharacter()):()=>!0}i(r,"i"),F(r,"toNoArgVisit");function s(y){return y?()=>y(t.getTokenOffset(),t.getTokenLength(),t.getTokenStartLine(),t.getTokenStartCharacter(),()=>n.slice()):()=>!0}i(s,"u"),F(s,"toNoArgVisitWithPath");function o(y){return y?$=>y($,t.getTokenOffset(),t.getTokenLength(),t.getTokenStartLine(),t.getTokenStartCharacter()):()=>!0}i(o,"f"),F(o,"toOneArgVisit");function a(y){return y?$=>y($,t.getTokenOffset(),t.getTokenLength(),t.getTokenStartLine(),t.getTokenStartCharacter(),()=>n.slice()):()=>!0}i(a,"r"),F(a,"toOneArgVisitWithPath");const l=s(e.onObjectBegin),p=a(e.onObjectProperty),d=r(e.onObjectEnd),c=s(e.onArrayBegin),h=r(e.onArrayEnd),C=a(e.onLiteralValue),m=o(e.onSeparator),b=r(e.onComment),k=o(e.onError),A=D&&D.disallowComments,f=D&&D.allowTrailingComma;function B(){for(;;){const y=t.scan();switch(t.getTokenError()){case 4:g(14);break;case 5:g(15);break;case 3:g(13);break;case 1:A||g(11);break;case 2:g(12);break;case 6:g(16);break}switch(y){case 12:case 13:A?g(10):b();break;case 16:g(1);break;case 15:case 14:break;default:return y}}}i(B,"k"),F(B,"scanNext");function g(y,$=[],zu=[]){if(k(y),$.length+zu.length>0){let uu=t.getToken();for(;uu!==17;){if($.indexOf(uu)!==-1){B();break}else if(zu.indexOf(uu)!==-1)break;uu=B()}}}i(g,"p"),F(g,"handleError");function w(y){const $=t.getTokenValue();return y?C($):(p($),n.push($)),B(),!0}i(w,"F"),F(w,"parseString");function v(){switch(t.getToken()){case 11:const y=t.getTokenValue();let $=Number(y);isNaN($)&&(g(2),$=0),C($);break;case 7:C(null);break;case 8:C(!0);break;case 9:C(!1);break;default:return!1}return B(),!0}i(v,"j"),F(v,"parseLiteral");function Uu(){return t.getToken()!==10?(g(3,[],[2,5]),!1):(w(!1),t.getToken()===6?(m(":"),B(),X()||g(4,[],[2,5])):g(5,[],[2,5]),n.pop(),!0)}i(Uu,"a"),F(Uu,"parseProperty");function Vu(){l(),B();let y=!1;for(;t.getToken()!==2&&t.getToken()!==17;){if(t.getToken()===5){if(y||g(4,[],[]),m(","),B(),t.getToken()===2&&f)break}else y&&g(6,[],[]);Uu()||g(4,[],[2,5]),y=!0}return d(),t.getToken()!==2?g(7,[2],[]):B(),!0}i(Vu,"N"),F(Vu,"parseObject");function qu(){c(),B();let y=!0,$=!1;for(;t.getToken()!==4&&t.getToken()!==17;){if(t.getToken()===5){if($||g(4,[],[]),m(","),B(),t.getToken()===4&&f)break}else $&&g(6,[],[]);y?(n.push(0),y=!1):n[n.length-1]++,X()||g(4,[],[4,5]),$=!0}return h(),y||n.pop(),t.getToken()!==4?g(8,[4],[]):B(),!0}i(qu,"be"),F(qu,"parseArray");function X(){switch(t.getToken()){case 3:return qu();case 1:return Vu();case 10:return w(!0);default:return v()}}return i(X,"J"),F(X,"parseValue"),B(),t.getToken()===17?D.allowEmptyContent?!0:(g(4,[],[]),!1):X()?(t.getToken()!==17&&g(9,[],[]),!0):(g(4,[],[]),!1)}i(Pe,"Fe"),F(Pe,"visit");var Se;(function(u){u[u.None=0]="None",u[u.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",u[u.UnexpectedEndOfString=2]="UnexpectedEndOfString",u[u.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",u[u.InvalidUnicode=4]="InvalidUnicode",u[u.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",u[u.InvalidCharacter=6]="InvalidCharacter"})(Se||(Se={}));var Te;(function(u){u[u.OpenBraceToken=1]="OpenBraceToken",u[u.CloseBraceToken=2]="CloseBraceToken",u[u.OpenBracketToken=3]="OpenBracketToken",u[u.CloseBracketToken=4]="CloseBracketToken",u[u.CommaToken=5]="CommaToken",u[u.ColonToken=6]="ColonToken",u[u.NullKeyword=7]="NullKeyword",u[u.TrueKeyword=8]="TrueKeyword",u[u.FalseKeyword=9]="FalseKeyword",u[u.StringLiteral=10]="StringLiteral",u[u.NumericLiteral=11]="NumericLiteral",u[u.LineCommentTrivia=12]="LineCommentTrivia",u[u.BlockCommentTrivia=13]="BlockCommentTrivia",u[u.LineBreakTrivia=14]="LineBreakTrivia",u[u.Trivia=15]="Trivia",u[u.Unknown=16]="Unknown",u[u.EOF=17]="EOF"})(Te||(Te={}));const En=Oe;var Ie;(function(u){u[u.InvalidSymbol=1]="InvalidSymbol",u[u.InvalidNumberFormat=2]="InvalidNumberFormat",u[u.PropertyNameExpected=3]="PropertyNameExpected",u[u.ValueExpected=4]="ValueExpected",u[u.ColonExpected=5]="ColonExpected",u[u.CommaExpected=6]="CommaExpected",u[u.CloseBraceExpected=7]="CloseBraceExpected",u[u.CloseBracketExpected=8]="CloseBracketExpected",u[u.EndOfFileExpected=9]="EndOfFileExpected",u[u.InvalidCommentToken=10]="InvalidCommentToken",u[u.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",u[u.UnexpectedEndOfString=12]="UnexpectedEndOfString",u[u.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",u[u.InvalidUnicode=14]="InvalidUnicode",u[u.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",u[u.InvalidCharacter=16]="InvalidCharacter"})(Ie||(Ie={}));const _e=F((u,e)=>En(hn(e,u,"utf8")),"readJsonc"),Tu=Symbol("implicitBaseUrl"),_="${configDir}",mn=F(()=>{const{findPnpApi:u}=ft;return u&&u(process.cwd())},"getPnpApi"),Iu=F((u,e,D,t)=>{const n=`resolveFromPackageJsonPath:${u}:${e}:${D}`;if(t!=null&&t.has(n))return t.get(n);const r=_e(u,t);if(!r)return;let s=e||"tsconfig.json";if(!D&&r.exports)try{const[o]=Fn(r.exports,e,["require","types"]);s=o}catch{return!1}else!e&&r.tsconfig&&(s=r.tsconfig);return s=E.join(u,"..",s),t?.set(n,s),s},"resolveFromPackageJsonPath"),_u="package.json",Nu="tsconfig.json",gn=F((u,e,D)=>{let t=u;if(u===".."&&(t=E.join(t,Nu)),u[0]==="."&&(t=E.resolve(e,t)),E.isAbsolute(t)){if(P(D,t)){if(cu(D,t).isFile())return t}else if(!t.endsWith(".json")){const h=`${t}.json`;if(P(D,h))return h}return}const[n,...r]=u.split("/"),s=n[0]==="@"?`${n}/${r.shift()}`:n,o=r.join("/"),a=mn();if(a){const{resolveRequest:h}=a;try{if(s===u){const C=h(E.join(s,_u),e);if(C){const m=Iu(C,o,!1,D);if(m&&P(D,m))return m}}else{let C;try{C=h(u,e,{extensions:[".json"]})}catch{C=h(E.join(u,Nu),e)}if(C)return C}}catch{}}const l=xe(E.resolve(e),E.join("node_modules",s),D);if(!l||!cu(D,l).isDirectory())return;const p=E.join(l,_u);if(P(D,p)){const h=Iu(p,o,!1,D);if(h===!1)return;if(h&&P(D,h)&&cu(D,h).isFile())return h}const d=E.join(l,o),c=d.endsWith(".json");if(!c){const h=`${d}.json`;if(P(D,h))return h}if(P(D,d)){if(cu(D,d).isDirectory()){const h=E.join(d,_u);if(P(D,h)){const m=Iu(h,"",!0,D);if(m&&P(D,m))return m}const C=E.join(d,Nu);if(P(D,C))return C}else if(c)return d}},"resolveExtendsPath"),Ru=F((u,e)=>Su(E.relative(u,e)),"pathRelative"),Ne=["files","include","exclude"],Bn=F((u,e,D,t)=>{const n=gn(u,e,t);if(!n)throw new Error(`File '${u}' not found.`);if(D.has(n))throw new Error(`Circularity detected while resolving configuration: ${n}`);D.add(n);const r=E.dirname(n),s=Re(n,t,D);delete s.references;const{compilerOptions:o}=s;if(o){const{baseUrl:a}=o;a&&!a.startsWith(_)&&(o.baseUrl=O(E.relative(e,E.join(r,a)))||"./");let{outDir:l}=o;l&&(l.startsWith(_)||(l=E.relative(e,E.join(r,l))),o.outDir=O(l)||"./")}for(const a of Ne){const l=s[a];l&&(s[a]=l.map(p=>p.startsWith(_)?p:O(E.relative(e,E.join(r,p)))))}return s},"resolveExtends"),yn=["outDir","declarationDir"],Re=F((u,e,D=new Set)=>{let t;try{t=_e(u,e)||{}}catch{throw new Error(`Cannot resolve tsconfig at path: ${u}`)}if(typeof t!="object")throw new SyntaxError(`Failed to parse tsconfig at: ${u}`);const n=E.dirname(u);if(t.compilerOptions){const{compilerOptions:r}=t;r.paths&&!r.baseUrl&&(r[Tu]=n)}if(t.extends){const r=Array.isArray(t.extends)?t.extends:[t.extends];delete t.extends;for(const s of r.reverse()){const o=Bn(s,n,new Set(D),e),a={...o,...t,compilerOptions:{...o.compilerOptions,...t.compilerOptions}};o.watchOptions&&(a.watchOptions={...o.watchOptions,...t.watchOptions}),t=a}}if(t.compilerOptions){const{compilerOptions:r}=t,s=["baseUrl","rootDir"];for(const o of s){const a=r[o];if(a&&!a.startsWith(_)){const l=E.resolve(n,a),p=Ru(n,l);r[o]=p}}for(const o of yn){let a=r[o];a&&(Array.isArray(t.exclude)||(t.exclude=[]),t.exclude.includes(a)||t.exclude.push(a),a.startsWith(_)||(a=Su(a)),r[o]=a)}}else t.compilerOptions={};if(t.include?(t.include=t.include.map(O),t.files&&delete t.files):t.files&&(t.files=t.files.map(r=>r.startsWith(_)?r:Su(r))),t.watchOptions){const{watchOptions:r}=t;r.excludeDirectories&&(r.excludeDirectories=r.excludeDirectories.map(s=>O(E.resolve(n,s))))}return t},"_parseTsconfig"),du=F((u,e)=>{if(u.startsWith(_))return O(E.join(e,u.slice(_.length)))},"interpolateConfigDir"),An=["outDir","declarationDir","outFile","rootDir","baseUrl","tsBuildInfoFile"],bn=F(u=>{if(u.strict){const e=["noImplicitAny","noImplicitThis","strictNullChecks","strictFunctionTypes","strictBindCallApply","strictPropertyInitialization","strictBuiltinIteratorReturn","alwaysStrict","useUnknownInCatchVariables"];for(const D of e)u[D]===void 0&&(u[D]=!0)}if(u.target){let e=u.target.toLowerCase();e==="es2015"&&(e="es6"),u.target=e,e==="esnext"&&(u.module!=null||(u.module="es6"),u.useDefineForClassFields!=null||(u.useDefineForClassFields=!0)),(e==="es6"||e==="es2016"||e==="es2017"||e==="es2018"||e==="es2019"||e==="es2020"||e==="es2021"||e==="es2022"||e==="es2023"||e==="es2024")&&(u.module!=null||(u.module="es6")),(e==="es2022"||e==="es2023"||e==="es2024")&&(u.useDefineForClassFields!=null||(u.useDefineForClassFields=!0))}if(u.module){let e=u.module.toLowerCase();e==="es2015"&&(e="es6"),u.module=e,(e==="es6"||e==="es2020"||e==="es2022"||e==="esnext"||e==="none"||e==="system"||e==="umd"||e==="amd")&&(u.moduleResolution!=null||(u.moduleResolution="classic")),e==="system"&&(u.allowSyntheticDefaultImports!=null||(u.allowSyntheticDefaultImports=!0)),(e==="node16"||e==="nodenext"||e==="preserve")&&(u.esModuleInterop!=null||(u.esModuleInterop=!0),u.allowSyntheticDefaultImports!=null||(u.allowSyntheticDefaultImports=!0)),(e==="node16"||e==="nodenext")&&(u.moduleDetection!=null||(u.moduleDetection="force"),u.useDefineForClassFields!=null||(u.useDefineForClassFields=!0)),e==="node16"&&(u.target!=null||(u.target="es2022"),u.moduleResolution!=null||(u.moduleResolution="node16")),e==="nodenext"&&(u.target!=null||(u.target="esnext"),u.moduleResolution!=null||(u.moduleResolution="nodenext")),e==="preserve"&&(u.moduleResolution!=null||(u.moduleResolution="bundler"))}if(u.moduleResolution){let e=u.moduleResolution.toLowerCase();e==="node"&&(e="node10"),u.moduleResolution=e,(e==="node16"||e==="nodenext"||e==="bundler")&&(u.resolvePackageJsonExports!=null||(u.resolvePackageJsonExports=!0),u.resolvePackageJsonImports!=null||(u.resolvePackageJsonImports=!0)),e==="bundler"&&(u.allowSyntheticDefaultImports!=null||(u.allowSyntheticDefaultImports=!0),u.resolveJsonModule!=null||(u.resolveJsonModule=!0))}u.esModuleInterop&&(u.allowSyntheticDefaultImports!=null||(u.allowSyntheticDefaultImports=!0)),u.verbatimModuleSyntax&&(u.isolatedModules!=null||(u.isolatedModules=!0),u.preserveConstEnums!=null||(u.preserveConstEnums=!0)),u.isolatedModules&&(u.preserveConstEnums!=null||(u.preserveConstEnums=!0))},"normalizeCompilerOptions"),Me=F((u,e=new Map)=>{const D=E.resolve(u),t=Re(D,e),n=E.dirname(D),{compilerOptions:r}=t;if(r){for(const o of An){const a=r[o];if(a){const l=du(a,n);r[o]=l?Ru(n,l):a}}for(const o of["rootDirs","typeRoots"]){const a=r[o];a&&(r[o]=a.map(l=>{const p=du(l,n);return p?Ru(n,p):l}))}const{paths:s}=r;if(s)for(const o of Object.keys(s))s[o]=s[o].map(a=>{var l;return(l=du(a,n))!=null?l:a});bn(r)}for(const s of Ne){const o=t[s];o&&(t[s]=o.map(a=>{var l;return(l=du(a,n))!=null?l:a}))}return t},"parseTsconfig"),wn=F((u=process.cwd(),e="tsconfig.json",D=new Map)=>{const t=xe(O(u),e,D);if(!t)return null;const n=Me(t,D);return{path:t,config:n}},"getTsconfig"),vn=/\*/g,Le=F((u,e)=>{const D=u.match(vn);if(D&&D.length>1)throw new Error(e)},"assertStarCount"),$n=F(u=>{if(u.includes("*")){const[e,D]=u.split("*");return{prefix:e,suffix:D}}return u},"parsePattern"),xn=F(({prefix:u,suffix:e},D)=>D.startsWith(u)&&D.endsWith(e),"isPatternMatch"),kn=F((u,e,D)=>Object.entries(u).map(([t,n])=>(Le(t,`Pattern '${t}' can have at most one '*' character.`),{pattern:$n(t),substitutions:n.map(r=>{if(Le(r,`Substitution '${r}' in pattern '${t}' can have at most one '*' character.`),!e&&!Pu.test(r))throw new Error("Non-relative paths are not allowed when 'baseUrl' is not set. Did you forget a leading './'?");return E.resolve(D,r)})})),"parsePaths"),jn=F(u=>{const{compilerOptions:e}=u.config;if(!e)return null;const{baseUrl:D,paths:t}=e;if(!D&&!t)return null;const n=Tu in e&&e[Tu],r=E.resolve(E.dirname(u.path),D||n||"."),s=t?kn(t,D,r):[];return o=>{if(Pu.test(o))return[];const a=[];for(const c of s){if(c.pattern===o)return c.substitutions.map(O);typeof c.pattern!="string"&&a.push(c)}let l,p=-1;for(const c of a)xn(c.pattern,o)&&c.pattern.prefix.length>p&&(p=c.pattern.prefix.length,l=c);if(!l)return D?[O(E.join(r,o))]:[];const d=o.slice(l.pattern.prefix.length,o.length-l.pattern.suffix.length);return l.substitutions.map(c=>O(c.replace("*",d)))}},"createPathsMatcher"),We=F(u=>{let e="";for(let D=0;D<u.length;D+=1){const t=u[D],n=t.toUpperCase();e+=t===n?t.toLowerCase():n}return e},"s"),On=65,Pn=97,Sn=F(()=>Math.floor(Math.random()*26),"m"),Tn=F(u=>Array.from({length:u},()=>String.fromCodePoint(Sn()+(Math.random()>.5?On:Pn))).join(""),"S"),In=F((u=dt)=>{const e=process.execPath;if(u.existsSync(e))return!u.existsSync(We(e));const D=`/${Tn(10)}`;u.writeFileSync(D,"");const t=!u.existsSync(We(D));return u.unlinkSync(D),t},"l"),{join:Fu}=E.posix,Mu={ts:[".ts",".tsx",".d.ts"],cts:[".cts",".d.cts"],mts:[".mts",".d.mts"]},_n=F(u=>{const e=[...Mu.ts],D=[...Mu.cts],t=[...Mu.mts];return u!=null&&u.allowJs&&(e.push(".js",".jsx"),D.push(".cjs"),t.push(".mjs")),[...e,...D,...t]},"getSupportedExtensions"),Nn=F(u=>{const e=[];if(!u)return e;const{outDir:D,declarationDir:t}=u;return D&&e.push(D),t&&e.push(t),e},"getDefaultExcludeSpec"),Ue=F(u=>u.replaceAll(/[.*+?^${}()|[\]\\]/g,String.raw`\$&`),"escapeForRegexp"),Rn=["node_modules","bower_components","jspm_packages"],Lu=`(?!(${Rn.join("|")})(/|$))`,Mn=/(?:^|\/)[^.*?]+$/,Ve="**/*",Cu="[^/]",Wu="[^./]",qe=process.platform==="win32";F(({config:u,path:e},D=In())=>{if("extends"in u)throw new Error("tsconfig#extends must be resolved. Use getTsconfig or parseTsconfig to resolve it.");if(!E.isAbsolute(e))throw new Error("The tsconfig path must be absolute");qe&&(e=O(e));const t=E.dirname(e),{files:n,include:r,exclude:s,compilerOptions:o}=u,a=n?.map(C=>Fu(t,C)),l=_n(o),p=D?"":"i",d=(s||Nn(o)).map(C=>{const m=Fu(t,C),b=Ue(m).replaceAll(String.raw`\*\*/`,"(.+/)?").replaceAll(String.raw`\*`,`${Cu}*`).replaceAll(String.raw`\?`,Cu);return new RegExp(`^${b}($|/)`,p)}),c=n||r?r:[Ve],h=c?c.map(C=>{let m=Fu(t,C);Mn.test(m)&&(m=Fu(m,Ve));const b=Ue(m).replaceAll(String.raw`/\*\*`,`(/${Lu}${Wu}${Cu}*)*?`).replaceAll(/(\/)?\\\*/g,(k,A)=>{const f=`(${Wu}|(\\.(?!min\\.js$))?)*`;return A?`/${Lu}${Wu}${f}`:f}).replaceAll(/(\/)?\\\?/g,(k,A)=>{const f=Cu;return A?`/${Lu}${f}`:f});return new RegExp(`^${b}$`,p)}):void 0;return C=>{if(!E.isAbsolute(C))throw new Error("filePath must be absolute");if(qe&&(C=O(C)),a!=null&&a.includes(C)||!(!l.some(m=>C.endsWith(m))||d.some(m=>m.test(C)))&&h&&h.some(m=>m.test(C)))return u}},"createFilesMatcher");const ze="resolve-tsconfig-paths",Ln=i(u=>u[0]===".","isRelative"),Wn=i(u=>u[0]==="/"||/^[\s\S]:/.test(u),"isAbsolute"),Je=i(u=>{const e=jn(u);return e?{name:ze,async resolveId(D,t,n){if(!t||Ln(D)||Wn(D)||D.startsWith("\0"))return null;const r=e(D);for(const s of r){const o=await this.resolve(s,t,{skipSelf:!0,...n});if(o)return o}return null}}:{name:ze}},"resolveTsconfigPaths"),Ke=/^#!.*/,Un=i(()=>({name:"strip-hashbang",transform:i(u=>{if(!Ke.test(u))return null;const e=new eu(u);return e.replace(Ke,""),{code:e.toString(),map:e.generateMap({hires:!0})}},"transform")}),"stripHashbang");class Vn{static{i(this,"WalkerBase")}constructor(){this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:i(()=>this.should_skip=!0,"skip"),remove:i(()=>this.should_remove=!0,"remove"),replace:i(e=>this.replacement=e,"replace")}}replace(e,D,t,n){e&&D&&(t!=null?e[D][t]=n:e[D]=n)}remove(e,D,t){e&&D&&(t!=null?e[D].splice(t,1):delete e[D])}}class qn extends Vn{static{i(this,"SyncWalker")}constructor(e,D){super(),this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:i(()=>this.should_skip=!0,"skip"),remove:i(()=>this.should_remove=!0,"remove"),replace:i(t=>this.replacement=t,"replace")},this.enter=e,this.leave=D}visit(e,D,t,n){if(e){if(this.enter){const s=this.should_skip,o=this.should_remove,a=this.replacement;this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.enter.call(this.context,e,D,t,n),this.replacement&&(e=this.replacement,this.replace(D,t,n,e)),this.should_remove&&this.remove(D,t,n);const l=this.should_skip,p=this.should_remove;if(this.should_skip=s,this.should_remove=o,this.replacement=a,l)return e;if(p)return null}let r;for(r in e){const s=e[r];if(s&&typeof s=="object")if(Array.isArray(s)){const o=s;for(let a=0;a<o.length;a+=1){const l=o[a];Ge(l)&&(this.visit(l,e,r,a)||a--)}}else Ge(s)&&this.visit(s,e,r,null)}if(this.leave){const s=this.replacement,o=this.should_remove;this.replacement=null,this.should_remove=!1,this.leave.call(this.context,e,D,t,n),this.replacement&&(e=this.replacement,this.replace(D,t,n,e)),this.should_remove&&this.remove(D,t,n);const a=this.should_remove;if(this.replacement=s,this.should_remove=o,a)return null}}return e}}function Ge(u){return u!==null&&typeof u=="object"&&"type"in u&&typeof u.type=="string"}i(Ge,"isNode");function zn(u,{enter:e,leave:D}){return new qn(e,D).visit(u,null)}i(zn,"walk");const Jn=i(()=>{const u='import{createRequire as _pkgrollCR}from"node:module";const require=_pkgrollCR(import.meta.url);';return{name:"esmInjectCreateRequire",renderChunk(e,D,t){if(t.format!=="es"||!/\brequire\b/.test(e))return null;const n=this.parse(e);let r=Ft(n,"scope"),s=!1;if(zn(n,{enter(a,l){a.scope&&(r=a.scope),!(a.type!=="Identifier"||a.name!=="require")&&(l?.type==="Property"&&l.key===a&&!l.compute||l?.type!=="MemberExpression"&&(r.contains("require")||(s=!0,this.skip())))},leave:i(a=>{a.scope&&(r=r.parent)},"leave")}),!s)return null;const o=new eu(e);return o.prepend(u),{code:o.toString(),map:o.generateMap({hires:!0})}}}},"esmInjectCreateRequire"),hu="\0natives:",Kn=i(u=>{const e=`${u}/natives`,D=new Map;return{name:"native-modules",buildStart:i(()=>{D.clear()},"buildStart"),async resolveId(t,n){if(t.startsWith(hu)||!t.endsWith(".node"))return null;const r=n?E.resolve(E.dirname(n),t):E.resolve(t);try{await W.access(r)}catch{return this.warn(`Native module not found: ${r}`),null}const s=E.basename(r);let o=s,a=1;const l=new Set(Array.from(D.values()).map(d=>E.basename(d)));for(;l.has(o);){const d=E.extname(s);o=`${E.basename(s,d)}_${a}${d}`,a+=1}const p=E.join(e,o);return D.set(r,p),hu+r},load(t){if(!t.startsWith(hu))return null;const n=t.slice(hu.length),r=D.get(n);return r?`export default require("${`./${Fe(E.relative(u,r))}`}");`:this.error(`Could not find staged native module for: ${n}`)},generateBundle:i(async()=>{D.size!==0&&(await W.mkdir(e,{recursive:!0}),await Promise.all(Array.from(D.entries()).map(([t,n])=>W.copyFile(t,n))))},"generateBundle")}},"nativeModules"),He=i(()=>{const u=I.realpathSync.native(process.cwd());return{name:"external-pkg-imports",resolveId(e,D){return e[0]!=="#"||D&&Fe(E.relative(u,D)).split("/").includes("node_modules")?null:{id:e,external:!0}}}},"externalPkgImports"),Eu=i(u=>u.replace("\0","").split("?")[0],"cleanRollupId"),Gn=i(u=>{try{return ht(u)}catch{return{exports:[],reexports:[]}}},"safeParse"),Hn=i(()=>{const u=new Map,e=i((D,t=new Set)=>{const n=Eu(D);if(t.has(n))return[];t.add(n);const r=u.get(n);if(!r)return[];const s=[...r.exports];for(const o of r.reexports)s.push(...e(o,t));return s},"getFinalExports");return{name:"cjs-annotate-exports",buildStart:i(async()=>{await Ct(),u.clear()},"buildStart"),async transform(D,t){const n=Eu(t);if(!/\.c?js$/.test(n)||!D.includes("exports"))return;const{exports:r,reexports:s}=Gn(D);if(r.length===0&&s.length===0)return;const a=(await Promise.all(s.map(async l=>{const p=await this.resolve(l,t);return p?Eu(p.id):""}))).filter(Boolean);u.set(n,{exports:r,reexports:a})},renderChunk:{order:"post",handler(D,t,n){if(n.format!=="cjs"||!t.isEntry||!t.facadeModuleId)return null;const r=Eu(t.facadeModuleId),s=[...new Set(e(r))];if(s.length>0){const o=new eu(D);return o.append(`
0&&(module.exports={${s.join(",")}});`),{code:o.toString(),map:o.generateMap({hires:!0})}}}}}},"cjsAnnotateExports"),Yn=i((u,e,D,t,n)=>{const r=Object.fromEntries(u.env.map(({key:a,value:l})=>[`process.env.${a}`,JSON.stringify(l)])),s=Object.fromEntries(u.define.map(({key:a,value:l})=>[a,l])),o={target:u.target,tsconfigRaw:t?.config,define:{...r,...s}};return{input:{},preserveEntrySignatures:"strict",plugins:[Ae(u),...t?[Je(t)]:[],be(),at({entries:e}),He(),st({extensions:[".mjs",".js",".ts",".jsx",".tsx",".json"],exportConditions:u.exportCondition}),Un(),it(),tn(o),Hn(),ot({ignoreDynamicRequires:!0,extensions:[".js",".ts",".jsx",".tsx"],transformMixedEsModules:!0}),lt({warnOnError:!0}),Jn(),Kn(n),...u.minify?[nn(o)]:[],rn(D)],output:[],external:[]}},"getPkgConfig"),Zn=i(async(u,e)=>{const[D,t]=await Promise.all([import("./rollup-plugin-dts-Cax-OLNc.mjs"),import("./local-typescript-loader-CSvrvK-x.mjs")]);return{input:{},preserveEntrySignatures:"strict",plugins:[He(),Ae(u),...e?[Je(e)]:[],be(),D.default({respectExternal:!0,compilerOptions:{composite:!1,preserveSymlinks:!1,module:t.default.ModuleKind.Preserve,moduleResolution:t.default.ModuleResolutionKind.Bundler},tsconfig:e?.path})],output:[],external:[]}},"getDtsConfig"),Qn=i(u=>{if(u.length===0)return"";const e=u.map(r=>r.split("/")),D=e[0],t=Math.min(...e.map(r=>r.length)),n=[];for(let r=0;r<t;r+=1){const s=D[r];if(e.every(o=>o[r]===s))n.push(s);else break}return n.length===0?"/":n.join("/")||"/"},"getCommonPath"),Xn=i(async(u,e,D,t,n,r)=>{const s=x(Qn(u.map(({dist:l})=>l)),!0);for(const l of u)l.distPrefix=l.dist.slice(s.length);const o=u,a=Object.create(null);for(const l of e){const{sourcePath:p,srcExtension:d,distExtension:c,exportEntry:h}=l,C=l.srcdist,m=C.distPrefix+p.slice(C.srcResolved.length,-d.length);if(l.inputNames=[m],h.format==="types"){let f=a.dts;f||(f=await Zn(D,r),f.external=ye(n,t,!0),a.dts=f),f.input[m]||(f.input[m]=p);const B=f.output;if(B[c])B[c][Y].inputNames.push(m);else{const g={dir:s,entryFileNames:`[name]${c}`,chunkFileNames:`${C.distPrefix}[name]-[hash]${c}`,exports:"auto",format:"esm",[Y]:l};B.push(g),B[c]=g}continue}let b=a.pkg;if(!b){const f=o[0].dist;b=Yn(D,t,e,r,f),b.external=ye(n,t),a.pkg=b}b.input[m]||(b.input[m]=p);const k=b.output,A=`${h.format}-${c}`;if(k[A])k[A][Y].inputNames.push(m);else{const f={dir:s,exports:"auto",format:h.format,sourcemap:D.sourcemap,entryFileNames:`[name]${c}`,chunkFileNames:`${C.distPrefix}[name]-[hash]${c}`,[Y]:l};k.push(f),k[A]=f}}return Object.values(a)},"getRollupConfigs"),ur=i(u=>{if(!u)return wn();const e=E.resolve(u),D=Me(e);return{path:e,config:D}},"getTsconfig"),er=i(async u=>{await su(u)&&await I.promises.rm(u,{recursive:!0,force:!0})},"cleanDist"),tr=/^[$_\p{ID_Start}][$\u200C\u200D\p{ID_Continue}]*$/u,Dr=new Set(["do","if","in","for","int","new","try","var","byte","case","char","else","enum","goto","long","null","this","true","void","with","break","catch","class","const","false","final","float","short","super","throw","while","delete","double","export","import","native","public","return","static","switch","throws","typeof","boolean","default","extends","finally","package","private","abstract","continue","debugger","function","volatile","interface","protected","transient","implements","instanceof","synchronized"]),nr=i(u=>!tr.test(u)||Dr.has(u),"propertyNeedsQuotes"),rr=i(u=>u.map((e,D)=>typeof e=="number"?`[${e}]`:nr(e)?`[${JSON.stringify(e)}]`:D>0?`.${e}`:e).join(""),"prettyPath"),sr=i(u=>({name:"filter-unnecessary-outputs",generateBundle:i((e,D)=>{const t=Object.keys(D).filter(s=>D[s].type==="chunk"),n=[];for(const s of t){const o=D[s];o.isEntry&&u.includes(o.name)&&n.push(s)}const r=new Set;for(;n.length>0;){const s=n.shift(),o=D[s];if(!o||r.has(s))continue;r.add(s);const a=[...o.imports,...o.dynamicImports];for(const l of a)n.push(l)}for(const s of t)r.has(s)||delete D[s]},"generateBundle")}),"filterUnnecessaryOutputs"),{stringify:Ye}=JSON,Ze=i(u=>{const[e,D]=u.split("=",2);return{key:e,value:D}},"keyValue"),S=_D({name:"pkgroll",version:ND,flags:{input:{type:[zD],alias:"i",description:"Dist paths for source files to bundle (Only use if you cannot use package.json entries)"},src:{type:String,description:"Source directory (Deprecated, use `srcdist` instead)",default:"./src"},dist:{type:String,description:"Distribution directory (Deprecated, use `srcdist` instead)",default:"./dist"},srcdist:{type:[String],description:"Source and distribution folder pairs (eg. default `src:dist`)"},minify:{type:Boolean,description:"Minify output",alias:"m",default:!1},target:{type:[String],default:[`node${process.versions.node}`],description:"Environments to support. `target` in tsconfig.json is automatically added. Defaults to the current Node.js version.",alias:"t"},tsconfig:{type:String,description:"Custom tsconfig.json file path",alias:"p"},watch:{type:Boolean,description:"Watch mode",alias:"w",default:!1},env:{type:[Ze],description:"Compile-time environment variables (eg. --env.NODE_ENV=production)"},define:{type:[Ze],description:"Targeted strings to replace (eg. --define.process.env.NODE_ENV='production')"},exportCondition:{type:[String],description:"Export conditions for resolving dependency export and import maps (eg. --export-condition=node)"},sourcemap:{type:i(u=>{if(u==="")return!0;if(u==="inline")return u;throw new Error(`Invalid sourcemap option ${Ye(u)}`)},"type"),description:"Sourcemap generation. Provide `inline` option for inline sourcemap (eg. --sourcemap, --sourcemap=inline)"},cleanDist:{type:Boolean,description:"Clean dist before bundling",default:!1}},help:{description:"Minimalistic package bundler",render:i((u,e)=>(e.flagOperator=D=>D.name==="env"?".key=":" ",e.render(u)),"render")}}),Qe=process.cwd(),Q=[];if(S.flags.srcdist.length>0)for(const u of S.flags.srcdist){const[e,D]=u.split(":",2);if(!e||!D)throw new Error(`Invalid src:dist pair ${Ye(u)}. Expected format: src:dist`);Q.push({src:x(e,!0),srcResolved:x(I.realpathSync.native(e),!0),dist:x(D,!0)})}else Q.push({src:x(S.flags.src,!0),srcResolved:x(I.realpathSync.native(S.flags.src),!0),dist:x(S.flags.dist,!0)});const Xe=ur(S.flags.tsconfig),ut=Xe?.config.compilerOptions?.target;ut&&S.flags.target.push(ut),(async()=>{const{packageJson:u}=await qD(Qe),e=await un(Q,u,S.flags.input);for(const n of e)if("error"in n){const{exportEntry:r}=n,s=typeof r.source=="string"?r.source:`${r.source.type}#${rr(r.source.path)}`;console.warn(`Warning (${s}):`,n.error)}const D=e.filter(n=>!("error"in n));if(D.length===0)throw new Error("No entry points found");const t=await Xn(Q,D,S.flags,JD(u,Qe),u,Xe);S.flags.cleanDist&&await Promise.all(Q.map(({dist:n})=>er(n))),S.flags.watch?(ou("Watch initialized"),t.map(async n=>{Dt(n).on("event",async s=>{if(s.code==="BUNDLE_START"){const o=Array.isArray(s.input)?s.input:Object.values(s.input);ou("Building",...o.map(iu))}if(s.code==="BUNDLE_END"){await Promise.all(n.output.map(a=>s.result.write(a)));const o=Array.isArray(s.input)?s.input:Object.values(s.input);ou("Built",...o.map(iu))}s.code==="ERROR"&&ou("Error:",s.error.message)})})):await Promise.all(t.map(async n=>{const r=await nt(n);return Promise.all(n.output.map(s=>{const o=s[Y].inputNames;return s.plugins=[sr(o)],r.write(s)}))}))})().catch(u=>{console.error(u),process.exit(1)});
